course: ISEX2
year: 2020
report: S1
department: 工情
id: 8165
name: 和田哲也
email: wada.tetsuya11@gmail.com
computer:  自宅のパソコン Mac
compiler: Scilab
hour: 4

<<EX-1.1>>

アナログ信号をデジタル信号に変換するには、標本化、量子化、符号化という３つの手順を踏む。標本化（またはサンプリング）とは、アナログ信号を一定時間ごとに区切り、その値を取り出すことである。このとき一定時間を刻む信号をサンプリング周波数と呼び、サンプリングの間隔が小さいほど、より細かくアナログ信号をデジタルデータに変換できる。標本化で取り出した値を、例えば小数点以下を切り捨てるなど、デジタル信号で表現できる値に変換することを量子化と呼ぶ。量子化された値を決められたビット数での２進表現に変換することを符号化と呼ぶ。このビット数を分解能と呼び、ビット数が大きいほど細かな値を表現することができる。

<<EX-1.2>>

サンプリング周波数とは、標本化において単位時間あたりに標本を採る回数のことである。言い換えると、標本化の際にアナログ信号を一定間隔で区切るときの、一定間隔を刻む信号の周波数である。サンプリングクロックとも呼ばれる。例えばT秒周期でサンプリングする場合、サンプリング周波数は1/Tであり、T秒ごとにアナログ信号の値を取り出すことになる。サンプリング間隔が短い、すなわちサンプリング周波数が大きいほど、頻回でサンプリングを行うこととなり、アナログ信号をより細かくデジタルデータに変換することができる。ある波形を正しく標本化するには、その波形の周波数成分の帯域幅の２倍より高いサンプリング周波数で標本化する必要がある。

<<EX-1.3>>

量子化精度（量子化ビット数）とは、アナログ信号をデジタル信号に変換する際、信号の振幅の大きさを何段階で表すかを示す値。アナログ信号は連続値であるのに対してデジタル信号は離散的な値であるため、原信号をいくつかに区切って表現することになる。量子化精度が大きいほど、細かく区切ってデジタル化するため、より忠実にアナログ信号を再現することができる。この操作により、標本化で得られた値と量子化された値には差が生じ、これを量子化誤差と呼ぶ。この際に発生する雑音を量子雑音と呼ぶ。量子化誤差が大きいほど量子雑音が大きくなり、信号の信頼性が低下する（音波でいうところの「音質」が低下する）。

<<EX-1.4>>

シャノンの標本化定理（サンプリング定理）は、アナログ信号をデジタル信号へと変換する際に、波形の最大周波数の２倍より高いの周波数で標本化すれば、完全に元の波形に再構成されることを示す。例えば原信号に含まれる周波数が最高で22.05kHzだった場合、44.1kHzより高い周波数で標本化すれば、原信号を完全に復元することができる。すなわち、あるサンプリング周波数fで標本化した場合、原信号に含まれる信号成分のうち周波数がf/2以下のものだけが完全に再構成される。f/2を超えるものはエイリアシングと呼ばれる現事象を生じ、再生時に元の信号として忠実には再現されない。

<<EX-1.5>>

アンチエイリアスとは、サンプリングでエイリアシングが起きないようにするための処理。標本化の際の原信号にナイキスト周波数より高い周波数成分が含まれていると、その信号が正しく標本化されず、再生時に本来より低い周波数で再生されてしまう。この本来と異なる周波数で再生される信号をエイリアスと呼び、エイリアスが元の信号と重なることで発生する歪みをエイリアシング（折り返し歪み）と呼ぶ。アナログ-デジタル変換の前に原信号からナイキスト周波数より高い周波数成分をカットするローパスフィルタを通すことで、エイリアシングを起こす信号を除去してエイリアスを防ぐことができる。これをアンチエイリアスと呼ぶ。このとき使用するフィルタをアンチエイリアスフィルタとも呼ぶ。

<<EX-1.6>>

デジタル-アナログ変換では、01で表されるデジタル信号をアナログ信号（通常は電圧）に変換する。アナログ信号が出力できる電圧の下限から上限の間を、デジタル信号の種類で等分した値を出力する。例えば、デジタル信号が3bitで表現されているとき、アナログ信号は0~7の８段階で表現されるので、出力電圧の下限から上限を八等分した任意の電圧が出力できる。デジタル信号ののbit数を分可能と呼び、分解能が大きいほど細かく等分した任意の出力を得るので、より細かい表現ができることになる。デジタル-アナログ変換を行う回路には種類があり、抵抗ラダー型・抵抗ストリング型・電流出力型、デルタシグマ型などがある。

<<EX-1.7>>

・引数の一覧と意味
第一引数：元となる音声データ
第二引数：サンプリング周波数
第三引数：量子化精度
第四引数：出力ファイル名

サンプリング周波数が11025のものでは、元のデータでは1秒あたり22050回音が発生するのに対し、このデータは１秒あたり11025だけ音が発生する。全体のデータ数は変わっていないため、再生速度が2分の１になったことになる。よって、再生された音は周波数が２分の１になって聞こえる。逆にサンプリング周波数が44100のものでは、1秒あたり44100回だけ音が発生するため、再生速度が２倍になったこととなり、再生された音は周波数が２倍になって聞こえる。
量子化精度が16ビットから8ビットになったものでは、元のデータでは256段階に分割して表現していた振幅の大きさを１段階で表現することになり、元データより量子化誤差が大きくなっている。

<<EX-1.8>>

aiueo1.wav 再生速度と音の周波数が元のデータの2分の１になり、音質も悪くなっている。
aiueo2.wav 元のデータより音質が悪くなっている。
aiueo3.wav 再生速度と音の周波数が元のデータの２倍になり、音質は悪くなっている。
aiueo4.wav 再生速度と音の周波数が元のデータの2分の１になっている。
aiueo5.wav 再生速度と音の周波数が元のデータの２倍になっている。

<<EX-1.9>>

サンプリング周波数が11025のものでは、元のデータでは1秒あたり22025回音が発生するのに対し、１秒間に11025回だけしか音が発生しないため、元のデータの半分の頻度で音を発生させることとなり、再生速度が2分の１になって聞こえる。サンプリング周波数が44100のものは、逆に再生速度が倍になって聞こえる。再生速度が変化することで、同時に聞こえる周波数は半分、２倍になって聞こえる。
量子化精度が16ビットから8ビットになったものでは、元のデータでは256段階に分割して表現していた振幅の大きさを１段階で表現することになる。１６ビットで表現する場合より元のデータからの量子化誤差が大きくなり、それが「サー」という雑音となって聞こえる。

<<全体の感想>>

調べるのに時間がかかってしまいました。また、各演習問題で回答内容が被ってしまうことがあり、どう書き分けるか苦慮しました。波形の処理について様々な演習を行ってみたいです。